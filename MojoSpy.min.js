"use strict";function MojoSpy(a,b){function c(){var a=Array.prototype.slice.call(arguments);if(e.isRecording&&e.callHistory.push(a),e.callThru){var b="function"==typeof e.callThru?e.callThru:d;b.apply(this,a)}}var d=a[b];if("function"!=typeof d)throw"Cannot spy on a non-function!";var e=this;a[b]=c,this.object=a,this.methodName=b,this.method=d,this.reset()}MojoSpy.prototype={reset:function(){this.on(),this.callThru=!1,this.clear()},clear:function(){this.callHistory=[]},on:function(){this.isRecording=!0},off:function(){this.isRecording=!1},retire:function(){this.object&&this.methodName&&this.method&&(this.object[this.methodName]=this.method,this.method=null)},wasCalled:function(){if(arguments.length){var a=arguments;return this.callHistory.some(function(b){if(b.length===a.length){for(var c=0;c<a.length;++c)if(b[c]!==a[c])return!1;return!0}})}return this.callHistory.length>0}},MojoSpy.prototype.close=MojoSpy.prototype.retire,module.exports=MojoSpy;